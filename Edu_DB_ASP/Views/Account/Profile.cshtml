@model Edu_DB_ASP.Models.Learner

<div class="profile-container">
    <div class="profile-info">
        <h2>@Model.FirstName @Model.LastName</h2>
        <p>@Model.Email</p>
    </div>
    <div class="profile-picture">
        <img src="@Model.ProfilePictureUrl" alt="Profile Picture" class="profile-img" id="profileImg" />
        <label for="profilePicture" class="change-picture-label">Change Picture</label>
        <input type="file" id="profilePicture" name="profilePicture" class="change-picture-input" onchange="uploadProfilePicture()" />
    </div>
</div>

<form id="uploadForm" asp-action="UploadProfilePicture" method="post" enctype="multipart/form-data" style="display:none;">
    <input type="file" id="hiddenProfilePicture" name="profilePicture" />
</form>

<style>
    .profile-container {
        display: flex;
        align-items: center;
        justify-content: flex-end; /* Align items to the right */
        margin-top: -20px; /* Move the container up */
    }

    .profile-info {
        margin-right: 20px; /* Space between info and picture */
    }

    .profile-picture {
        position: relative;
        flex-shrink: 0; /* Prevent the picture from shrinking */
    }

    .profile-img {
        width: 150px; /* Adjust the width as needed */
        height: 150px; /* Adjust the height as needed */
        object-fit: cover;
        border-radius: 50%; /* Optional: make the image circular */
    }

    .change-picture-label {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s;
        cursor: pointer;
    }

    .profile-picture:hover .change-picture-label {
        opacity: 1;
    }

    .change-picture-input {
        display: none;
    }
</style>

<script>
    function uploadProfilePicture() {
        var fileInput = document.getElementById('profilePicture');
        var hiddenFileInput = document.getElementById('hiddenProfilePicture');
        var form = document.getElementById('uploadForm');

        hiddenFileInput.files = fileInput.files;
        form.submit();
    }
</script>